<body>
  {{> mainContainer }}
</body>

<template name="mainContainer">
  <div class="app">
    <header>
      <div class="app-bar">
        <div class="app-header">
          <h1>ğŸ“ï¸ To Do List {{incompleteCount}}</h1>
          <h4>{{ name }}</h4>
        </div>
      </div>
    </header>

    <div class="main">
      {{#if isUserLogged}}
        <div class="user">
            {{getUser.username}} ğŸšª
       </div>
      {{> form}}

      <div class="filter">
        <button id="hide-completed-button">
          {{#if hideCompleted}}Show All{{else}}Hide Completed{{/if}}
        </button>
      </div>

      {{#if isLoading}}
          <div class="loading">loading...</div>
       {{/if}}

      <ul class="tasks">
        {{#each tasks}}
          {{> task}}
        {{/each}}
      </ul>
      {{ else }}
        {{> login}}
      {{/if}}
    </div>
  </div>
</template>

<template name="form">
  <form class="task-form">
    <input class="add-task-input" type="text" name="text" placeholder="Type to add new tasks" />
    <button class="add-task-btn" type="submit">Add Task</button>
  </form>
</template>
